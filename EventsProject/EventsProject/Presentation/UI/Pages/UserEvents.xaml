<Page x:Class="EventsProject.Presentation.UI.Pages.UserEvents"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:EventsProject.Presentation.UI.Pages"
      xmlns:mah="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
      xmlns:fa="http://schemas.fontawesome.io/icons/" 
      xmlns:compts="clr-namespace:EventsProject.Presentation.Components"
      
      mc:Ignorable="d" 
      Title="UserEvents">

    <!--MAIN LAYOUT-->
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width=".25*"/>
            <ColumnDefinition Width="5*"/>
            <ColumnDefinition Width=".38*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height=".5*"/>
            <RowDefinition Height="1*"/>
            <RowDefinition Height="5*"/>
            <RowDefinition Height=".25*"/>
        </Grid.RowDefinitions>
        
        <!--MAIN LAYOUT - HEADER -->
        <fa:FontAwesome Grid.Row="0" Grid.Column="0" Icon="ShoppingCart" FontSize="40" VerticalAlignment="Center"/>
        <Label Grid.Row="0" Grid.Column="1" HorizontalAlignment="Center" Style="{StaticResource fntTitle}"
               Content="Search, filter and enrroll in amazing local events!"/>
        <Button Grid.Row="0" Grid.Column="2" x:Name="btnCreateEvent" Click="btnCreateEvent_Click" Margin="20 4" ToolTip="Request Event Creation">
            <fa:FontAwesome Icon="Plus" Style="{StaticResource fnaAnimatedBtn}"/>
        </Button>
        
        <!--MAIN LAYOUT - FILTER -->
        <StackPanel Grid.Row="1" Grid.Column="1" HorizontalAlignment="Center">

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <fa:FontAwesome Icon="Filter" Style="{StaticResource fnaAnimatedFade}" Foreground="{StaticResource clrHover}"/>
                <Label Content="Filter By: " Style="{StaticResource fntSbTitle}" Foreground="{StaticResource clrTxt}"/>
                <ComboBox x:Name="cmbFilters" FontSize="22" Margin="0 2" SelectionChanged="cmbFilters_SelectionChanged"/>

                <!--MAIN LAYOUT - FILTER - HUES -->
                <mah:DateTimePicker x:Name="dtpDateFilter" Width="400" Cursor="Hand" Culture="en-MT" Style="{StaticResource styTextBox}" Visibility="Collapsed"/>
                <ComboBox x:Name="cmbFilterInput" Width="400" FontSize="22" Margin="0 2" Visibility="Collapsed"/>
                <TextBox x:Name="txbFilterInput" Width="450" Style="{StaticResource styTextBox}" MaxLength="32" Visibility="Collapsed"/>

                <!--MAIN LAYOUT - FILTER - BUTTON -->
                <Button x:Name="btnFilter" Click="btnFilter_Click" ToolTip="Apply Filters">
                    <fa:FontAwesome Icon="Search" Style="{StaticResource fnaAnimatedBtn}"/>
                </Button>

            </StackPanel>
            
        </StackPanel>

        <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="10 0">
            <!--MAIN LAYOUT - FILTER - RESULTS -->
            <fa:FontAwesome Icon="Database" FontSize="22" VerticalAlignment="Center"/>
            <Label Content="Results: " Style="{StaticResource fntSbTitle}"/>
            <Label x:Name="lblNumResults" Style="{StaticResource fntSbTitle}"/>
        </StackPanel>

        
        <!--MAIN LAYOUT - EVENTS VIEW -->
        <ScrollViewer Grid.Row="2" Grid.Column="1" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Disabled" CanContentScroll="False"
                      Padding="8" Background="{StaticResource clrHover}">
            <ItemsControl x:Name="icEvents">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel Orientation="Horizontal" IsItemsHost="True" HorizontalAlignment="Center"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <!-- MAIN LAYOUT - EVENTS VIEW - COMPONENT -->
                        <compts:EventEnrollControl Event="{Binding}" EventClicked="EventEnrollControl_EventClicked"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
        
    </Grid>
    
</Page>
